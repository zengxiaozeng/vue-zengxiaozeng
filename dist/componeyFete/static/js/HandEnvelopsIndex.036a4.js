webpackJsonp([8],{mJgp:function(e,t){},rIpX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("4YfN"),o=n.n(s),i=n("9rMa"),a=n("FvCI"),l=n("hmed"),r={data:function(){return{shareAmount:"",shareCount:"",isClick:!1,isShow:!1,envelopsModal:!1,reds:"",isBtnClick:!1}},watch:{token:function(e){e&&this.getData()}},created:function(){},mounted:function(){this.getData()},computed:o()({},Object(i.d)({token:function(e){return e.token}}),Object(i.d)("HandEnvelops",{ableShareAmount:function(e){return e.ableShareAmount},redenvelopeSerialNumber:function(e){return e.redenvelopeSerialNumber}}),Object(i.c)("HandEnvelops",{addTime:"addTime"})),methods:o()({},Object(i.b)("HandEnvelops",{getData:"getData",handleHandEnvelopes:"handleHandEnvelopes"}),{handleToRule:function(){this.$router.push({path:"/handEnvelops/rule"})},handleOpenEnvelopesModal:function(){this.isShow=!0,this.envelopsModal=!0,0==this.shareAmount?this.isBtnClick=!1:this.isBtnClick=!0},handleAllClose:function(){this.isShow=!1,this.envelopsModal=!1},handleGiveRedPackets:function(){var e=this;e.handleHandEnvelopes({otherParam:{shareCount:e.shareCount,shareAmount:e.shareAmount},cb:function(t){if(0==t.code){e.getData(),e.reds=t.result.redenvelopeSerialNumber;var n=e.shareAmount+"元拼手气红包！老用户抢到可直接提现哦！一鼎金融2周年庆，要玩就玩嗨！@你";if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&!window.mars){var s=window.config.scheme.h5Protocol+"youdingkeji.com/staticPages/appVue/dist/receiveEnvelopesIndex/index.html%23/index%3FredenvelopeSerialNumber%3D"+t.result.redenvelopeSerialNumber;location.href="ydlc://h5/share?url="+s+"&title=恭喜发财，大吉大利！&summary="+n}else{var o=window.config.scheme.h5Protocol+"youdingkeji.com/staticPages/appVue/dist/receiveEnvelopesIndex/index.html#/index?redenvelopeSerialNumber="+t.result.redenvelopeSerialNumber;window.mars.shareActivity(o,"恭喜发财，大吉大利！",n)}setTimeout(function(){e.shareAmount="",e.shareCount="",e.isClick=!1,e.isShow=!1,e.envelopsModal=!1},250)}else e.shareAmount="",e.shareCount="",e.isClick=!1,e.isShow=!1,e.envelopsModal=!1,setTimeout(function(){e.$toast({msg:t.result})},100)}})},handleToRecords:function(){var e=this;e.token&&e.token.length>20?e.toRecords():(window.checkUser(),setTimeout(function(){e.toRecords()},500))},toRecords:function(){""===window.ydwVersion&&""===this.token?this.$judge():window.ydwToken&&window.ydwToken.length>20?this.$router.push({path:"/handEnvelops/detail"}):(Object(l.b)(),Object(a.a)())},handleEarns:function(){var e=this;e.token&&e.token.length>20?e.toEarns():(window.checkUser(),setTimeout(function(){e.toEarns()},500))},toEarns:function(){""===window.ydwVersion&&""===this.token?this.$judge():window.ydwToken&&window.ydwToken.length>20?Object(a.c)(2):(Object(l.b)(),Object(a.a)())},handleToDetails:function(){var e=this;e.token&&e.token.length>20?e.toDetails():(window.checkUser(),setTimeout(function(){e.toDetails()},500))},toDetails:function(){""===window.ydwVersion&&""===this.token?this.$judge():window.ydwToken&&window.ydwToken.length>20?this.$router.push({path:"/handEnvelops/record"}):(Object(l.b)(),Object(a.a)())},handleCountChange:function(e){this.shareCount=e.target.value.replace(/[^\d]/g,""),""!==this.shareCount?this.shareCount>20?(this.shareCount=20,this.isClickOrNo()):this.isClickOrNo():this.isClick=!1},isClickOrNo:function(){String(this.shareAmount).length>0&&String(this.shareCount).length>0&&this.shareAmount>0?this.isClick=!0:this.isClick=!1},handleAmountChange:function(){var e=String(this.shareAmount);if(this.shareAmount>this.ableShareAmount)this.shareAmount=this.ableShareAmount;else if(this.shareAmount<1)this.shareAmount="";else{if(e.indexOf(".")>0){var t=e.substr(0,e.indexOf(".")),n=e.substr(e.indexOf(".")+1,e.length);n.length>2&&(n=n.substr(0,2)),e=t+"."+n}this.shareAmount=e}e.length>0&&String(this.shareCount).length>0&&0!==this.shareAmount?this.isClick=!0:this.isClick=!1},handleKeyUp:function(){this.shareCount<5&&(this.shareCount=5)}})},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"page-envelops"},[n("aside",{on:{click:e.handleToRule}},[n("div",[e._v("活动规则")])]),e._v(" "),n("main",[n("section",[n("div",{staticClass:"tops"},[n("p",{staticClass:"moneys"},[e._v(e._s(e.ableShareAmount)+"元")]),e._v(" "),n("div",{staticClass:"details-btn",on:{click:e.handleToDetails}})]),e._v(" "),n("div",{staticClass:"envelopes-totals"},[n("span",[e._v("红包总金额")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shareAmount,expression:"shareAmount"}],attrs:{type:"number",placeholder:"最低1.00",onkeyup:"value=value.replace(/[^\\d{1,}\\.\\d{1,}|\\d{1,}]/g,'')"},domProps:{value:e.shareAmount},on:{input:[function(t){t.target.composing||(e.shareAmount=t.target.value)},e.handleAmountChange]}}),e._v("元\n        ")]),e._v(" "),n("div",{staticClass:"envelopes-amounts"},[n("span",[e._v("红包个数")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shareCount,expression:"shareCount"}],attrs:{type:"text",placeholder:"5",pattern:"[0-9]*"},domProps:{value:e.shareCount},on:{blur:function(t){return"button"in t||!e._k(t.keyCode,"lazy",void 0,t.key,void 0)?e.handleKeyUp(t):null},input:[function(t){t.target.composing||(e.shareCount=t.target.value)},e.handleCountChange]}}),e._v("个\n      ")]),e._v(" "),n("p",[e._v("红包个数最少为5个，最多20个")]),e._v(" "),e.isClick?n("div",{staticClass:"handed-btn",on:{click:e.handleOpenEnvelopesModal}}):n("div",{staticClass:"handed-btn no-click"})])]),e._v(" "),n("footer",{on:{click:e.handleToRecords}}),e._v(" "),n("article",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[n("section",{directives:[{name:"show",rawName:"v-show",value:e.envelopsModal,expression:"envelopsModal"}],staticClass:"envelops-modal"},[n("div",[n("div",{staticClass:"close-btn",on:{click:e.handleAllClose}},[n("img",{attrs:{src:"https://image.youdingkeji.com/H5/carnival/close_bg.png"}})]),e._v(" "),n("main",[n("div",[n("p",[n("span",[e._v("红包金额")]),e._v(" "),n("span",[e._v(e._s(e.shareAmount)+" 元")])]),e._v(" "),n("p",[n("span",[e._v("红包个数")]),e._v(" "),n("span",[e._v(e._s(e.shareCount)+" 个")])])]),e._v(" "),e.isBtnClick?n("div",{staticClass:"btns",on:{click:e.handleGiveRedPackets}}):n("div",{staticClass:"btns no-btns-click"})])])])])])},staticRenderFns:[]};var d=n("Z0/y")(r,h,!1,function(e){n("mJgp")},null,null);t.default=d.exports}});