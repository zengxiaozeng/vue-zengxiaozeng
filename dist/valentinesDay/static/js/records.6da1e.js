webpackJsonp([1],{"4gfr":function(t,s){},CmR9:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{isLoaded:!1,recordsArray:[],isExchange:!1,status:"",isClick:!0,giftName:"",closeUrl:"https://image.youdingkeji.com/H5/carnival/close_bg.png",rewardId:""}},created:function(){this.initData(),this.status=this.$route.query.status,"nos"==this.status||"end"==this.status?this.isClick=!1:this.isClick=!0},filters:{formatStamp:function(t){var s=new Date(t).getFullYear(),i=("0"+String(new Date(t).getMonth()+1)).slice(-2),a=("0"+String(new Date(t).getDate())).slice(-2),e=("0"+String(new Date(t).getHours())).slice(-2),n=("0"+String(new Date(t).getMinutes())).slice(-2);("0"+String(new Date(t).getSeconds())).slice(-2);return s+"-"+i+"-"+a+" "+e+":"+n}},methods:{initData:function(){var t=this;t.$ajax({url:config.apiUrl,type:"post",data:{token:window.ydwToken,label:"sevenMoon2018",type:"giftList"},success:function(s){0==s.code&&s.result&&(console.log(3333),t.recordsArray=s.result.rewards,setTimeout(function(){t.isLoaded=!0},300))}})},handleToEarn:function(){open(2)},handleDiscount:function(t,s){this.isExchange=!0,this.giftName=t,this.rewardId=s,console.log(this.rewardId+",,,"+s)},handleSure:function(){var t=this;t.$ajax({url:config.apiUrl,type:"post",data:{token:window.ydwToken,label:"sevenMoon2018",type:"discount",rewardId:t.rewardId},success:function(s){0==s.code&&s.result?(t.$toast({msg:s.result}),t.isExchange=!1,t.initData()):t.$toast({msg:s.result||s.errorMsg})}})}}},e={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"awards-main"},[t.isLoaded?i("div",{staticClass:"start-main"},[t.recordsArray.length>0?i("section",{staticClass:"awards-cnt"},[t._m(0),t._v(" "),i("ul",{staticClass:"lists"},t._l(t.recordsArray,function(s,a){return i("li",[i("span",[t._v(t._s(s.exchangeTime))]),t._v(" "),i("span",[t._v(t._s(s.exchangeGiftAlias))]),t._v(" "),"30元现金"==s.exchangeGiftAlias?i("span",{staticClass:"no-click"},[t._v("折现")]):"1"==s.isDiscount?i("span",{staticClass:"no-click"},[t._v("已折现")]):"0"==s.isDiscount&&0==t.isClick?i("span",{staticClass:"no-click"},[t._v("折现")]):i("span",{on:{click:function(i){t.handleDiscount(s.exchangeGiftAlias,s.id)}}},[t._v("折现")])])}))]):i("section",{staticClass:"nodatas"},[i("div"),t._v(" "),i("p",[t._v("暂无记录")])])]):i("div",{staticClass:"start_loading"},[i("div",{staticClass:"loading"})]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.isExchange?i("article",[i("div",[i("div",{staticClass:"close-btn",on:{click:function(s){t.isExchange=!1}}},[i("img",{attrs:{src:t.closeUrl}})]),t._v(" "),i("div",{staticClass:"mains-content"},[i("p",[t._v("确定将"),i("span",[t._v(t._s(t.giftName))]),t._v("八折折现吗？")]),t._v(" "),i("div",[i("p",{on:{click:t.handleSure}},[t._v("确定")])])])])]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title-span"},[s("div",[s("span",[this._v("兑换时间")]),this._v(" "),s("span",[this._v("我的奖品")]),this._v(" "),s("span",[this._v("是否折现")])])])}]};var n=i("vSla")(a,e,!1,function(t){i("4gfr")},null,null);s.default=n.exports}});