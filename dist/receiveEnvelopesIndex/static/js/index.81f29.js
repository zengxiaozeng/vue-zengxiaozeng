webpackJsonp([0],{"3cXf":function(e,t,s){e.exports={default:s("RJ+u"),__esModule:!0}},"98Uu":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("3cXf"),n=s.n(i),a=(s("e1BS"),s("8DpY")),o={data:function(){return{isPlay:!1,isVideo:!1,isReceived:!1,isShow:!0,robsImg:"https://image.youdingkeji.com/H5/componeyFete/receiveEnvelopesIndex/robs.png",amounts:1,isRobbed:!1,steps:"first",changePsd:!1,tipsModal:!1,errorCode:"10002",handleModal:!1,isShowHigherTips:!0,redenvelopeSerialNumber:"",tels:"",errorMsg:"",tipsTels:"",isChangeClick:!1,isReceiveClick:!1,ruleArray:["领到的红包金额是随机;","您领取的红包将以现金券的形式发放至【我的券包】中，老用户可直接点击领取，新用户（未投资过的用户）需任意投资一笔方可领取到账户余额中;","每人每天限领一次红包;","您在活动期间每投资一笔，将赠送一个随机金额的红包给您，供您分享给好友;"],footerTips:["本活动最终解释权归一鼎金融所有","如有疑问请联系客服：4006-553-888","投资有风险，选择需谨慎"],dataList:{redenvelopeAbleCount:0,myRedenvelopeAmount:0,redenvelopeAmount:0,redenvelopeCount:0,redenvelopeSourceUser:"",redenvelopeReceivers:[]},loginedApp:!1,myRedenvelopeAmount:0}},created:function(){this.$title("一鼎金融 2周年庆"),this.redenvelopeSerialNumber=this.$route.query.redenvelopeSerialNumber;var e=this.get("isReceived");null===this.get("isReceived")||"undefined"===this.get("isReceived")?(this.tels="",this.isRobbed=!1):(this.tels=this.get("tels"),this.isRobbed=!0,e.myRedenvelopeAmount&&e.myRedenvelopeAmount>0?this.steps="second":this.steps="first",1==e.loginedApp?this.loginedApp=!0:this.loginedApp=!1),this.getData()},filters:{formatStamp:function(e){var t=new Date(e).getFullYear(),s=("0"+String(new Date(e).getMonth()+1)).slice(-2),i=("0"+String(new Date(e).getDate())).slice(-2),n=("0"+String(new Date(e).getHours())).slice(-2),a=("0"+String(new Date(e).getMinutes())).slice(-2);("0"+String(new Date(e).getSeconds())).slice(-2);return t+"-"+s+"-"+i+" "+n+":"+a}},methods:{put:function(e,t,s){try{if(!localStorage)return!1;s&&!isNaN(s)||(s=60);var i={val:t,exp:new Date-1+1e3*s};localStorage.setItem(e,n()(i))}catch(e){}},get:function(e){try{if(!localStorage)return!1;var t=localStorage.getItem(e),s=JSON.parse(t),i=new Date-1;return s?i>s.exp?(this.remove(e),""):s.val:null}catch(t){return this.remove(e),null}},remove:function(e){if(!localStorage)return!1;localStorage.removeItem(e)},clear:function(){if(!localStorage)return!1;localStorage.clear()},getUrlParam:function(e){var t=window.location.search,s=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=t.substr(1).match(s);return i?decodeURIComponent(i[2]):null},getData:function(){var e=this,t={label:"anniversary2018ShareRedenvelope",type:"sharePage",target:e.redenvelopeSerialNumber,otherParam:e.tels};Object(a.a)({type:"post",url:window.config.apiUrl,data:t,success:function(t){0==t.code&&(e.dataList=t.result,e.myRedenvelopeAmount=t.result.myRedenvelopeAmount,0==t.result.myRedenvelopeAmount?e.steps="first":e.steps="second")}})},robbering:function(){var e=this,t={label:"anniversary2018ShareRedenvelope",type:"receive",target:e.redenvelopeSerialNumber,otherParam:e.tels};Object(a.a)({type:"post",url:window.config.apiUrl,data:t,success:function(t){"0"==t.code?(e.loginedApp=t.result.loginedApp,e.myRedenvelopeAmount=t.result.myRedenvelopeAmount,e.handleModal=!0,t.result.myRedenvelopeAmount>0&&e.put("isReceived",t.result,2592e3),e.getData()):(e.errorMsg=t.errorMsg,e.tipsModal=!0,e.errorCode="10001")}})},play:function(){this.isPlay=!0,setTimeout(function(){document.querySelector("video").play()},100)},handleToRob:function(){this.tels&&this.tels.length>10?this.robbering():this.isShow=!1},handleToReceive:function(){var e=this,t={label:"anniversary2018ShareRedenvelope",type:"receive",target:e.redenvelopeSerialNumber,otherParam:e.tels};Object(a.a)({type:"post",url:window.config.apiUrl,data:t,success:function(t){"0"==t.code?(e.loginedApp=t.result.loginedApp,e.tels=t.result.username,e.myRedenvelopeAmount=t.result.myRedenvelopeAmount,e.put("tels",t.result.username,2592e3),t.result.myRedenvelopeAmount>0&&e.put("isReceived",t.result,2592e3),e.handleModal=!0,e.getData()):(e.errorMsg=t.errorMsg,e.tipsModal=!0,e.errorCode="10001")}})},handleToSecondModal:function(){this.handleModal=!1,this.steps="second",this.getData()},handleToPutForward:function(){this.handleToSecondModal(),this.handlePutForward()},handlePutForward:function(){window.location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.zjydw.mars"},handleClickChange:function(){var e=this;this.tipsTels=this.tels,this.changePsd=!0;var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)][0]>=11&&setTimeout(function(){e.$refs.changeMain.style.marginTop="-820px"},10),11==this.tipsTels.length&&(this.isChangeClick=!0)},handleChange:function(){this.$toast({msg:"修改成功"}),this.changePsd=!1,this.tels=this.tipsTels,this.put("tels",this.tels,2592e3)},handleCountChange:function(){11==this.tipsTels.length?this.isChangeClick=!0:this.isChangeClick=!1},handleInputReceive:function(){11==this.tels.length?this.isReceiveClick=!0:this.isReceiveClick=!1}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"page-receive-envelopes"},[s("header",[s("p",{on:{click:function(t){e.isVideo=!0}}})]),e._v(" "),s("main",["first"==e.steps?s("section",{staticClass:"tops"},[e.isShow?s("div",{staticClass:"no-handle"},[s("div",{staticClass:"vl"},[s("div",{staticClass:"v-tops"},[s("p",[e._v(e._s(e.dataList.redenvelopeSourceUser))]),e._v(" "),s("p",[e._v("给您发现金了")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isRobbed,expression:"isRobbed"}],staticClass:"v-btms"},[s("p",[e._v("抢到的红包将放入您的一鼎账户")]),e._v(" "),s("p",[s("span",[e._v(e._s(e.tels))]),e._v(" "),s("span",{on:{click:e.handleClickChange}},[e._v("点击修改")])])])]),e._v(" "),s("div",{staticClass:"vr",on:{click:e.handleToRob}},[s("img",{attrs:{src:e.robsImg}})])]):s("div",{staticClass:"handle-div"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tels,expression:"tels"}],attrs:{type:"text",pattern:"[0-9]*",placeholder:"请输入您的手机号",maxlength:"11",onkeyup:"value=value.replace(/\\D/g,'')"},domProps:{value:e.tels},on:{input:[function(t){t.target.composing||(e.tels=t.target.value)},e.handleInputReceive]}})]),e._v(" "),e.isReceiveClick?s("div",{staticClass:"btns",on:{click:e.handleToReceive}},[e._v("立即领取")]):s("div",{staticClass:"btns no-receive-click"},[e._v("立即领取")])])]):"second"==e.steps?s("section",{staticClass:"already-handle"},[s("div",{staticClass:"is-new"},[s("div",{staticClass:"handle-tops"},[s("div",{staticClass:"handle-vl"},[s("p",[e._v(e._s(e.myRedenvelopeAmount)+"元")]),e._v(" "),0==e.loginedApp?s("p",[e._v("2188元")]):e._e()]),e._v(" "),s("div",{staticClass:"handle-vr"},[s("p",[e._v("抢到的红包将放入您的一鼎账户")]),e._v(" "),s("p",[s("span",[e._v(e._s(e.tels))]),e._v(" "),s("span",{on:{click:e.handleClickChange}},[e._v("点击修改")])])])]),e._v(" "),s("div",{staticClass:"handle-btms"},[s("p",{on:{click:e.handlePutForward}},[e._v("我也要发红包")]),e._v(" "),s("p",{on:{click:e.handlePutForward}},[e._v("立即提现")])])])]):e._e(),e._v(" "),s("section",{staticClass:"footers"},[s("div",[s("p",{staticClass:"titles"},[e._v("看看小伙伴都领了多少现金")]),e._v(" "),s("p",{staticClass:"progress"},[e._v("已领取"+e._s(e.dataList.redenvelopeCount-e.dataList.redenvelopeAbleCount)+"/"+e._s(e.dataList.redenvelopeCount)+"个")]),e._v(" "),e.dataList.redenvelopeCount-e.dataList.redenvelopeAbleCount!=0?s("section",[s("ul",e._l(e.dataList.redenvelopeReceivers,function(t,i){return s("li",{key:i},[s("div",[s("span",[e._v(e._s(t.title))]),e._v(" "),s("span",[e._v(e._s(e._f("formatStamp")(t.addTime)))]),e._v(" "),s("span",[e._v(e._s(t.amount)+"元")])]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.bestOfLuck,expression:"item.bestOfLuck"}],staticClass:"higher-tips"},[e._v("\n                恭喜大财主，手气最佳！\n              ")])])}))]):s("div",[e._v("\n          还没有人领取，快来抢第一个红包\n        ")])])]),e._v(" "),s("footer",[s("div",{staticClass:"activity-rules"},[s("p",[e._v("活动规则")]),e._v(" "),s("ul",e._l(e.ruleArray,function(t,i){return s("li",{key:i},[e._m(0,!0),e._v(" "),s("span",[e._v(e._s(t))])])}))]),e._v(" "),s("div",{staticClass:"footer-tips"},e._l(e.footerTips,function(t,i){return s("p",{key:i},[e._v(e._s(t))])}))])]),e._v(" "),s("aside",[s("transition",{attrs:{name:"fade"}},[e.isVideo?s("article",{staticClass:"video-modal"},[s("div",{class:{obs:e.isVideo}},[s("img",{attrs:{src:"https://image.youdingkeji.com/H5/icon/close_small.png"},on:{click:function(t){e.isVideo=!1,e.isPlay=!1}}}),e._v(" "),s("section",[e.isPlay?s("video",{ref:"video",attrs:{height:"440",src:"https://image.youdingkeji.com/H5/newVideos/twoYears.mp4",poster:"https://image.youdingkeji.com/H5/activitys/20180715CBX_FETE/home/video_slt.jpg","webkit-playsinline":"true",playsinline:"true","x5-playsinline":"",controls:""}},[e._v("\n              您的浏览器不支持 video 标签。\n            ")]):s("img",{attrs:{src:"https://image.youdingkeji.com/H5/activitys/20180715CBX_FETE/home/video_slt.jpg"}}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!e.isPlay,expression:"!isPlay"}],staticClass:"control",attrs:{src:"https://image.youdingkeji.com/H5/activitys/20180715CBX_FETE/home/play.png"},on:{click:e.play}})])])]):e._e(),e._v(" "),e.changePsd?s("article",{staticClass:"pwd-modal"},[s("div",{ref:"changeMain",class:{obs:e.changePsd}},[s("img",{attrs:{src:"https://image.youdingkeji.com/H5/icon/close_small.png"},on:{click:function(t){e.changePsd=!1}}}),e._v(" "),s("section",[s("p",[e._v("当前手机号："+e._s(e.tels))]),e._v(" "),s("p",[e._v("手机号修改后将在下次抢红包时生效")]),e._v(" "),s("div",{staticClass:"tels-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tipsTels,expression:"tipsTels"}],attrs:{type:"text",pattern:"[0-9]*",placeholder:"请输入您的手机号",maxlength:"11",onkeyup:"value=value.replace(/\\D/g,'')"},domProps:{value:e.tipsTels},on:{input:[function(t){t.target.composing||(e.tipsTels=t.target.value)},e.handleCountChange]}})]),e._v(" "),e.isChangeClick?s("div",{staticClass:"changes-btn commons-btn",on:{click:e.handleChange}},[e._v("修改")]):s("div",{staticClass:"changes-btn commons-btn no-clicked-changes"},[e._v("修改")])])])]):e._e(),e._v(" "),e.tipsModal?s("article",{staticClass:"tips-modal"},[s("div",{class:{obs:e.tipsModal}},[s("img",{attrs:{src:"https://image.youdingkeji.com/H5/icon/close_small.png"},on:{click:function(t){e.tipsModal=!1}}}),e._v(" "),s("section",[s("p",{staticClass:"error-tips"},[e._v(e._s(e.errorMsg))]),e._v(" "),s("div",{staticClass:"commons-btn",on:{click:function(t){e.tipsModal=!1}}},[e._v("知道了")]),e._v(" "),s("p",[s("span",[e._v("点滴收益")]),e._v(" "),s("span",[e._v("累积幸福")])])])])]):e._e(),e._v(" "),e.handleModal?s("article",{staticClass:"handle-modal"},[s("div",{class:{obs:e.handleModal}},[s("img",{attrs:{src:"https://image.youdingkeji.com/H5/icon/close_small.png"},on:{click:e.handleToSecondModal}}),e._v(" "),s("section",[s("p",{staticClass:"awards-title"},[e._v("恭喜您")]),e._v(" "),s("div",{staticClass:"awards-name"},[s("p",[e._v("获得现金红包")]),e._v(" "),0==e.loginedApp?s("p",[e._v("和2188新手大礼包")]):e._e()]),e._v(" "),s("div",{staticClass:"awards"},[s("p",[s("span",[e._v(e._s(e.myRedenvelopeAmount)+"元")])]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.loginedApp,expression:"!loginedApp"}]},[s("span",[e._v("2188元")])])]),e._v(" "),s("div",{staticClass:"tips"},[s("p",[e._v("已放入您的一鼎账户："+e._s(e.tels))]),e._v(" "),0==e.loginedApp?s("p",[e._v("现金红包投资满100元可以直接提现")]):s("p",[e._v("投资满100元可以直接提现")])]),e._v(" "),s("div",{staticClass:"commons-btn",on:{click:e.handleToPutForward}},[e._v("立即提现")])])])]):e._e()])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span")])}]};var r=s("vSla")(o,l,!1,function(e){s("cJXD")},null,null);t.default=r.exports},"RJ+u":function(e,t,s){var i=s("AKd3"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},cJXD:function(e,t){},e1BS:function(e,t){e.exports={getCookiesObj:function(){var e={};if(document.cookie){var t=document.cookie.split("; ");for(var s in t){var i=t[s].indexOf("="),n=t[s].substr(0,i),a=t[s].substr(i+1,t[s].length);e[n]=a}}return e},set:function(e,t,s){if(e&&t){var i=encodeURIComponent(e)+"="+encodeURIComponent(t);return s&&(s.maxAge&&(i+="; max-age="+s.maxAge),s.path&&(i+="; path="+s.path),s.domain&&(i+="; domain="+s.domain),s.secure&&(i+="; secure")),document.cookie=i,i}return""},get:function(e){return decodeURIComponent(this.getCookiesObj()[e])||null},remove:function(e){this.getCookiesObj()[e]&&(document.cookie=e+"=; max-age=0")}}}});